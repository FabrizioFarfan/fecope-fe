import{c as x,r as l,u,j as e,L as j,g as p,a as g,b as f,d as b,M as y,t as k,f as v}from"./index-ByUp1fL6.js";/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=x("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=x("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),h=localStorage.getItem("token"),E=({param:o})=>{const[a,s]=l.useState([]),d=u(),n=g(o);l.useEffect(()=>{async function r(){try{const t=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const i=await t.json();i&&(console.log("News fetched:",i),s(i))}catch(t){console.error("Error fetching news:",t)}}r()},[]);const c=f(o);async function m(r){fetch(`${c}${r}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,"X-XSRF-TOKEN":p()},credentials:"include"}).then(t=>{t.status===200?d(-1):(alert("Ha occurrido un error"),console.log("Error"))}).catch(t=>{alert("Ha occurrido un error"),console.error("Network error:",t)})}return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-true-white  text-dark-red",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b",children:[e.jsx("th",{className:"text-left p-4",children:"TÃ­tulo"}),e.jsx("th",{className:"text-left p-4",children:e.jsx("div",{className:"flex justify-center",children:"Acciones"})})]})}),e.jsx("tbody",{children:a.map(r=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-4",children:r.titulo}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx(j,{to:`edit/${r.id}`,className:"text-dark-red border  text-xs bg-true-white px-1 py-1 rounded-lg  hover:bg-dark-red hover:bg-opacity-85 hover:text-true-white transition  mr-3 duration-300",children:"Edita"}),e.jsx("button",{className:"bg-gray-300 text-gray-800 px-3 py-1 rounded-lg hover:bg-red-600 hover:text-true-red transition duration-300",onClick:()=>m(r.id),children:e.jsx(w,{})})]})})]},r.id))})]})})},M=()=>{const o=u(),{adminContent:a}=b(),[s,d]=l.useState(null),n=c=>{d(c)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-10 w-10 hover:text-dark-red text-true-red m-5 md:ml-14 cursor-pointer",onClick:()=>o(-1)}),e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between mb-4 ml-5",children:[e.jsx("button",{onClick:()=>n("modifica"),className:"text-dark-red border   bg-true-white px-3 py-1 rounded-lg mr-2 hover:bg-dark-red hover:bg-opacity-85 hover:text-true-white transition duration-300",children:"Modifica"}),e.jsx("div",{children:e.jsx("h1",{className:" lg:text-3xl sm:lg text-dark-red font-bold",children:k(a)})}),e.jsx("button",{onClick:()=>n("crea"),className:"text-dark-red border   bg-true-white px-3 py-1 rounded-lg mr-2 hover:bg-dark-red hover:bg-opacity-85 hover:text-true-white transition duration-300",children:"Crea"})]}),e.jsxs("div",{className:"border-2 border-dark-red p-6 rounded-lg shadow-lg",children:[s==="modifica"&&e.jsx(E,{param:a}),s==="crea"&&v(a),!s&&e.jsxs("div",{className:" m-32   text-dark-red justify-center grid gap-5 ",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(N,{className:"h-10 w-10"})}),e.jsx("p",{className:"text-center text-gray-600 text-4xl font-thin",children:"Modifica o crea aqui"})]})]})]})]})};function T(){return e.jsx(e.Fragment,{children:e.jsx(M,{})})}export{T as default};
