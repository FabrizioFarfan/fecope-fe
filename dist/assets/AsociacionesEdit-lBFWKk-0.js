import{u as b,r as s,d as p,j as e,M as f,p as h,g}from"./index-twekFU8-.js";const j=localStorage.getItem("token");function k(){const d=b(),l=s.useRef(),n=s.useRef(),c=s.useRef(),i=s.useRef(),u=s.useRef(),{asociacionId:x}=p();s.useEffect(()=>{async function t(r){try{const o=await fetch(`http://localhost:8081/v0/asociacion/${r}`);if(o.ok){const a=await o.json();console.log(a),l.current&&(l.current.value=a.titulo),n.current&&(n.current.value=a.pais),c.current&&(c.current.value=a.linkWebSite),i.current&&(i.current.value=a.linkInstagram),u.current&&(u.current.value=a.linkFacebook)}else console.error("Error al obtener el partner:",o.statusText)}catch(o){console.error("Network error:",o)}}t(x)},[]);async function m(t){t.preventDefault(),fetch(`http://localhost:8081/v1/update-asociacion/${x}`,{method:"PUT",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json","X-XSRF-TOKEN":g()},credentials:"include",body:JSON.stringify({titulo:l.current.value,pais:n.current.value,linkWebSite:c.current.value,linkInstagram:i.current.value,linkFacebook:u.current.value})}).then(r=>{r.status===200?(alert("Asociación editada con éxito"),d(-1)):(alert("Ha occurrido un error"),console.error("Error:",r.status))}).catch(r=>{console.error("Network error:",r)})}return e.jsxs("div",{className:"text-dark-red max-w-lg mx-auto p-6 bg-white  rounded-lg",children:[e.jsxs("div",{className:"flex justify-start gap-20",children:[e.jsx(f,{className:"h-8 w-8 hover:text-dark-red text-true-red cursor-pointer",onClick:()=>d(-1)}),e.jsx("h2",{className:"text-xl font-bold my-4",children:"Edita Asociación"})]}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre de la Asociación:(Máx. 100 letras)"}),e.jsx("input",{type:"text",placeholder:"Título",className:"w-full px-3 py-2 border rounded-lg",ref:l,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"País:"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",ref:n,required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Selecciona un país"}),h.map(t=>e.jsx("option",{value:t.acronimo,children:t.nombre},t.acronimo))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Link Website: (No Obligatorio)"}),e.jsx("input",{type:"text",placeholder:"Website",className:"w-full px-3 py-2 border rounded-lg",ref:c})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Link Instagram: (No Obligatorio)"}),e.jsx("input",{type:"text",placeholder:"Instagram",className:"w-full px-3 py-2 border rounded-lg",ref:i})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Link Facebook: (No Obligatorio)"}),e.jsx("input",{type:"text",placeholder:"Facebook",className:"w-full px-3 py-2 border rounded-lg",ref:u})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"bg-true-red text-true-white px-4 py-2 rounded-lg shadow hover:bg-dark-red transition duration-300",children:"Edita Asociación"})})]})]})}export{k as default};
